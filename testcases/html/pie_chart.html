<!doctype html>
<html>

<head>
	<title>PIE Chart</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.0-beta.7/chart.min.js"></script>
	<link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>

<body>

	<div id="container" class="center">
		<div class="chard-card">
			<canvas id="canvas" style="height:100%;width:100%;overflow: hidden;"></canvas>
		</div>
	</div>

	<script>
		var MONTHS = ['Data 1', 'Data 2', 'Data 2'];
		var color = Chart.helpers.color;
		var data = {
			labels: ['Data 1', 'Data 2', 'Data 2'],
			datasets: [{
				label: 'Dataset 1',
				backgroundColor: ['#03a9f4', '#00bcd4', '#8bc34a'],
				borderWidth: 0,
				data: [100, 200, 150]
			}]

		};
		var options = {
			type: 'pie',
			data: data,
			options: {
				responsive: true,
				maintainAspectRatio: false,
				plugins: {
					legend: {
						display: true,
					},
					title: {
						display: true,
						text: 'Chart.js PIE Chart',
					}
				}
			}
		};

		window.onload = function () {
			// global
			Chart.defaults.responsive = true;
			Chart.defaults.maintainAspectRatio = false;
			Chart.defaults.animation = 1000;
			Chart.defaults.locale = "de-AT";
			// default font and -color
			Chart.defaults.font.family = "Roboto, Quicksand,'Open Sans','Rubik','Helvetica Neue', 'Helvetica', 'Arial', sans-serif";
			Chart.defaults.color = '#999999';
			Chart.defaults.font.size = 12;
			// title settings
			Chart.defaults.plugins.title.font.size = 16
			Chart.defaults.plugins.title.font.style = "normal";
			Chart.defaults.plugins.title.color = '#333';
			// gridlines
			Chart.defaults.scale.gridLines.lineWidth = 0.50;
			Chart.defaults.scale.gridLines.color = '#FFFFFF';
			Chart.defaults.scale.gridLines.zeroLineColor = '#000000';
			Chart.defaults.scale.gridLines.display = false
			Chart.defaults.scale.gridLines.borderDash = [.1, .1]
			// tooltips
			Chart.defaults.plugins.tooltip.enabled = true;
			Chart.defaults.plugins.tooltip.backgroundColor = "#ecf0f1";
			Chart.defaults.plugins.tooltip.titleColor = "#2c3e50"
			Chart.defaults.plugins.tooltip.bodyColor = "#607D8B"
			Chart.defaults.plugins.tooltip.footerColor = "#34495e"

			Chart.defaults.plugins.title.display = true;
			Chart.defaults.plugins.legend.display = false;
			Chart.defaults.plugins.legend.position = 'bottom';
			let ctx = document.getElementById('canvas').getContext('2d');


			let ct = "pie"
			Chart.register({
				id: "debug",
				start(chart) {
					console.log("|1|start|", new Date().toISOString(), ct, '|', chart.id + '|');
				},
				stop(chart) {
					console.log("|2|stop|", new Date().toISOString(), ct, '|', chart.id + '|');
				},
				beforeUpdate(chart) {
					console.log("|3|beforeUpdate|", new Date().toISOString(), ct, '|', chart.id + '|');
				}
			});
			let chart = new Chart(ctx, options);
			chart.destroy()
			chart = new Chart(ctx, options);
		};

		
	</script>
</body>

</html>